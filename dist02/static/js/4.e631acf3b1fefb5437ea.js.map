{"version":3,"sources":["webpack:///./src/components/category/script.js","webpack:///./src/components/category/template.html","webpack:///./src/components/category/Category.vue"],"names":["script","data","cateList","loading","total","pagenum","pagesize","isShowAddCateDialog","addCateForm","cat_name","cat_pid_Arr","cateListData","created","this","getCateList","getCateListData","methods","_this","curPage","arguments","length","undefined","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","_res$data$data","result","wrap","_context","prev","next","$http","get","params","type","sent","meta","status","stop","changePage","showAddCateDialog","_this2","_callee2","_context2","addCate","_this3","_callee3","_addCateForm","cat_pid","cat_level","_context3","post","$message","message","msg","template","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","plain","on","click","_v","directives","name","rawName","value","expression","staticStyle","width","stripe","prop","label","tree-key","level-key","parent-key","indent-size","scopedSlots","_u","key","fn","scope","_s","row","cat_deleted","icon","size","background","layout","page-size","current-page","current-change","title","visible","update:visible","$event","model","label-width","autocomplete","callback","$$v","$set","options","change-on-select","props","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.e631acf3b1fefb5437ea.js","sourcesContent":["export default {\n  data () {\n    return {\n      cateList: [],\n      loading: false,\n      total: 0,\n      pagenum: 0,\n      pagesize: 0,\n\n      // 添加分类对话框\n      isShowAddCateDialog: false,\n      addCateForm: {\n        // cat_pid 分类父 ID不能为空\n        // cat_name 分类名称不能为空\n        // cat_level分类层级不能为空\n        cat_name: '',\n        cat_pid_Arr: []\n\n      },\n      cateListData: []\n    }\n  },\n  created () {\n    this.getCateList()\n    this.loading = true\n    this.getCateListData()\n  },\n  methods: {\n    async getCateList (curPage = 1) {\n      const res = await this.$http.get('categories', {\n        params: {\n          type: 3,\n          pagenum: curPage,\n          pagesize: 5\n        }\n      })\n      // console.log(res)\n      if (res.data.meta.status === 200) {\n        const {result, pagenum, pagesize, total} = res.data.data\n        this.cateList = result\n        this.pagenum = pagenum + 1\n        this.pagesize = pagesize\n        this.total = total\n        this.loading = false\n      }\n    },\n    changePage (curPage) {\n      // console.log(' changePage', curPage)\n      this.getCateList(curPage)\n    },\n\n    // 显示添加分类对话框\n    showAddCateDialog () {\n      this.isShowAddCateDialog = true\n    },\n\n    // 获取商品分类 二级\n    async getCateListData () {\n      const res = await this.$http.get('/categories', {\n        params: {\n          type: 2\n        }\n      })\n      // console.log(res)\n      this.cateListData = res.data.data\n    },\n    // 添加分类\n    // 取消 eslint 校验\n    /* eslint-disable camelcase */\n    async addCate () {\n      // console.log('addCate')\n      const { cat_name, cat_pid_Arr } = this.addCateForm\n      const cat_pid = cat_pid_Arr[cat_pid_Arr.length - 1]\n      const cat_level = cat_pid_Arr.length\n      const res = await this.$http.post('/categories', {\n        cat_name,\n        cat_level,\n        cat_pid\n      })\n\n      // console.log(res)\n      if (res.data.meta.status === 201) {\n        this.$message({\n          type: 'success',\n          message: res.data.meta.msg\n        })\n        this.isShowAddCateDialog = false\n        this.getCateList()\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/category/script.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"category\"},[_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":_vm.showAddCateDialog}},[_vm._v(\"添加分类\")]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.cateList,\"stripe\":\"\"}},[_c('el-table-tree-column',{attrs:{\"prop\":\"cat_name\",\"label\":\"分类名称\",\"width\":\"220\",\"tree-key\":\"cat_id\",\"level-key\":\"cat_level\",\"parent-key\":\"cat_pid\",\"indent-size\":30}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"是否有效\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.cat_deleted ? '否' : '是'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\",\"plain\":\"\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"plain\":\"\"}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"page-size\":_vm.pagesize,\"current-page\":_vm.pagenum},on:{\"current-change\":_vm.changePage}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加分类\",\"visible\":_vm.isShowAddCateDialog},on:{\"update:visible\":function($event){_vm.isShowAddCateDialog=$event}}},[_c('el-form',{attrs:{\"model\":_vm.addCateForm,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.addCateForm.cat_name),callback:function ($$v) {_vm.$set(_vm.addCateForm, \"cat_name\", $$v)},expression:\"addCateForm.cat_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"父级名称\"}},[_c('el-cascader',{attrs:{\"options\":_vm.cateListData,\"change-on-select\":\"\",\"props\":{\n          value:'cat_id',\n          label:'cat_name'\n\n        }},model:{value:(_vm.addCateForm.cat_pid_Arr),callback:function ($$v) {_vm.$set(_vm.addCateForm, \"cat_pid_Arr\", $$v)},expression:\"addCateForm.cat_pid_Arr\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isShowAddCateDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addCate}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45aadd13\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./src/components/category/template.html\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45aadd13\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!./style.less\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./script.js\"\nimport __vue_script__ from \"!!babel-loader!./script.js\"/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45aadd13\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!./template.html\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/category/Category.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}